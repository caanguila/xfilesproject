<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">

    <ui:composition template="../../templates/creatively-cabinet.xhtml">

        <ui:param name="pageTitle" value="Home / File Download"/>
        <ui:param name="webSiteTitle" value="X Files"/>

        <ui:define name="submenu">
        </ui:define>

        <ui:define name="content">
            <h:form id="create_request_form">    
                <h:panelGroup rendered="#{downloadRequestBean.fileExists()}">
                    <h:panelGrid columns="2">
                        <h:outputText value="Password" rendered="#{downloadRequestBean.passwordNeeded}"/>
                        <h:inputSecret value="#{downloadRequestBean.key}" rendered="#{downloadRequestBean.passwordNeeded}"/>
                    
                    <h:commandLink actionListener="#{downloadRequestBean.createRequest}" class="button_green" value="Request Download">
                        <f:ajax execute=":create_request_form" />
                    </h:commandLink>
                    </h:panelGrid>
                </h:panelGroup>
                <p></p>
                <h:panelGroup id="requests">
                    <table class="table table-striped">
                        <tr>
                            <th># ID</th>
                            <th>File ID</th>
                            <th>Date Requested</th>
                            <th>Date Provided</th>
                            <th>Status</th>
                            <th>Link</th>
                        </tr>
                        <ui:repeat value="#{downloadRequestBean.downloadRequests}" var="downloadRequest">
                            <tr>
                                <td style="text-align: center;">#{downloadRequest.id}</td>
                                <td style="text-align: center;">#{downloadRequest.file.fileId}</td>
                                <td>#{downloadRequest.dateRequested}</td>
                                <td>#{downloadRequest.dateProvided}</td>
                                <td style="text-align: center;">#{downloadRequest.status}</td>
                                <td>
                                    <a href="#{request.contextPath}/download?id=#{downloadRequest.id}">Download</a>
                                </td>
                            </tr>
                        </ui:repeat>
                    </table>
                </h:panelGroup>
            </h:form>

        </ui:define>

        <ui:define name="toolbar">
            <a href="#" class="hide"><img src="img/hide.png" alt="" /></a>

            <div class="options float">

                <section class="header_color clearfix">
                    <h2>Header pattern</h2>
                    <div class="header_white">
                        <a href="#" data-src="light_honeycomb.png"></a>
                        <a href="#" data-src="little_pluses.png"></a>
                        <a href="#" data-src="45degreee_fabric.png"></a>
                        <a href="#" data-src="60degree_gray.png"></a>	
                        <a href="#" data-src="beige_paper.png"></a>
                        <a href="#" data-src="bright_squares.png"></a>
                        <a href="#" data-src="brushed_alu.png"></a>
                        <a href="#" data-src="concrete_wall_2.png"></a>
                        <a href="#" data-src="concrete_wall_3.png"></a>
                        <a href="#" data-src="white_sand.png"></a>
                        <a href="#" data-src="vichy.png"></a>
                        <a href="#" data-src="wavecut.png"></a>
                        <a href="#" data-src="white_carbon.png"></a>
                        <a href="#" data-src="rockywall.png"></a>
                        <a href="#" data-src="smooth_wall.png"></a>
                        <a href="#" data-src="noisy.png"></a>
                        <a href="#" data-src="old_mathematics.png"></a>
                        <a href="#" data-src="paper_1.png"></a>
                        <a href="#" data-src="paper_2.png"></a>
                        <a href="#" data-src="paper_3.png"></a>
                        <a href="#" data-src="pinstripe.png"></a>
                        <a href="#" data-src="leather_1.png"></a>
                        <a href="#" data-src="cork_1.png"></a>
                        <a href="#" data-src="double_lined.png"></a>
                        <a href="#" data-src="exclusive_paper.png"></a>
                        <a href="#" data-src="fabric_1.png"></a>
                        <a href="#" data-src="soft_wallpaper.png"></a>
                        <a href="#" data-src="subtle_freckles.png"></a>
                        <a href="#" data-src="subtle_orange_emboss.png"></a>
                        <a href="#" data-src="green_gobbler.png"></a>
                        <a href="#" data-src="grunge_wall.png"></a>
                        <a href="#" data-src="handmadepaper.png"></a>
                    </div>
                    <div class="header_black">
                        <a href="#" data-src="always_grey.png"></a>
                        <a href="#" data-src="brushed_alu_dark.png"></a>
                        <a href="#" data-src="padded.png"></a>
                        <a href="#" data-src="gray_sand.png"></a>
                        <a href="#" data-src="crossed_stripes.png"></a>
                        <a href="#" data-src="green-fibers.png"></a>
                        <a href="#" data-src="tactile_noise.png"></a>
                        <a href="#" data-src="black_denim.png"></a>
                        <a href="#" data-src="black-Linen.png"></a>
                        <a href="#" data-src="blackmamba.png"></a>
                        <a href="#" data-src="carbon_fibre.png"></a>
                        <a href="#" data-src="dark_stripes.png"></a>
                        <a href="#" data-src="darth_stripe.png"></a>
                        <a href="#" data-src="concrete_wall.png"></a>
                        <a href="#" data-src="black_paper.png"></a>
                        <a href="#" data-src="micro_carbon.png"></a>
                        <a href="#" data-src="random_grey_variations.png"></a>
                        <a href="#" data-src="wood_1.png"></a>
                    </div>
                </section>

                <section class="showcase_color clearfix">
                    <h2>Showcase pattern</h2>
                    <a href="#" data-src="light_honeycomb.png"></a>
                    <a href="#" data-src="little_pluses.png"></a>
                    <a href="#" data-src="45degreee_fabric.png"></a>
                    <a href="#" data-src="60degree_gray.png"></a>	
                    <a href="#" data-src="beige_paper.png"></a>
                    <a href="#" data-src="bright_squares.png"></a>
                    <a href="#" data-src="brushed_alu.png"></a>
                    <a href="#" data-src="concrete_wall_2.png"></a>
                    <a href="#" data-src="concrete_wall_3.png"></a>
                    <a href="#" data-src="white_sand.png"></a>
                    <a href="#" data-src="vichy.png"></a>
                    <a href="#" data-src="wavecut.png"></a>
                    <a href="#" data-src="white_carbon.png"></a>
                    <a href="#" data-src="rockywall.png"></a>
                    <a href="#" data-src="smooth_wall.png"></a>
                    <a href="#" data-src="noisy.png"></a>
                    <a href="#" data-src="old_mathematics.png"></a>
                    <a href="#" data-src="paper_1.png"></a>
                    <a href="#" data-src="paper_2.png"></a>
                    <a href="#" data-src="paper_3.png"></a>
                    <a href="#" data-src="pinstripe.png"></a>
                    <a href="#" data-src="leather_1.png"></a>
                    <a href="#" data-src="cork_1.png"></a>
                    <a href="#" data-src="double_lined.png"></a>
                    <a href="#" data-src="exclusive_paper.png"></a>
                    <a href="#" data-src="fabric_1.png"></a>
                    <a href="#" data-src="soft_wallpaper.png"></a>
                    <a href="#" data-src="subtle_freckles.png"></a>
                    <a href="#" data-src="subtle_orange_emboss.png"></a>
                    <a href="#" data-src="green_gobbler.png"></a>
                    <a href="#" data-src="grunge_wall.png"></a>
                    <a href="#" data-src="handmadepaper.png"></a>
                </section>

            </div>
        </ui:define>
    </ui:composition>

</html>